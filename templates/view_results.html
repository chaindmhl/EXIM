<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Exam Results | EXIM</title>
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        body {
            font-family: "Poppins", Arial, sans-serif;
            background-color: #f4f6f8;
            color: #333;
        }
    
        /* Navbar styling (same as home_student) */
        .navbar {
        background-color: #1f2937;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        padding-top: 6px !important;
        padding-bottom: 6px !important;
        }

        .navbar-brand {
        font-weight: 600;
        color: #fff !important;
        font-size: 1.1rem;
        }

        .navbar-brand:hover {
            color: #10b981 !important; 
            transform: scale(1.05);
        }

        .nav-link {
        color: #fff !important;
        transition: color 0.3s ease;
        font-size: 1 rem;
        }

        .nav-link:hover {
        color: #10b981 !important;
        }
    
        .container-content {
            margin-top: 40px;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
        }
        h2 {
        color: #1f2937;
        text-align: center;
        margin-top: 40px;
        font-weight: 600;
        font-size: 2rem;
        }
        
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand" href="{% url 'home_student' %}">EXIM</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}">Logout</a>
          </li>
        </ul>
      </div>
    </div>
</nav>

<div class="container">
    <h2 class="text-center mb-4">My Exam Results</h2>

    {% if results %}
        <div class="table-responsive">
            <table class="table table-bordered align-middle">
                <thead>
                    <tr>
                        <th>Date Taken</th>
                        <th>Course</th>
                        <th>Subject</th>
                        <th>Exam ID</th>
                        <th>Score</th>
                        <th>Elapsed Time</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for result in results %}
                    <tr>
                        <td>{{ result.timestamp|date:"M d, Y - h:i A" }}</td>
                        <td>{{ result.course }}</td>
                        <td>{{ result.subject }}</td>
                        <td>{{ result.exam_id }}</td>
                        <td>{{ result.score }}/{{result.total_items}}</td>
                        <td>{{ result.elapsed_time }}</td>
                        <td>
                            {% if result.is_submitted %}
                                <span class="badge bg-success">Submitted</span>
                            {% else %}
                                <span class="badge bg-secondary">Not Submitted</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <p class="no-results">You have not taken any tests yet.</p>
    {% endif %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
